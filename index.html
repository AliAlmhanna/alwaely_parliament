<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù† Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial', sans-serif; }
        body { background: linear-gradient(135deg, #1e3a8a, #3b82f6); min-height: 100vh; direction: rtl; color: #333; }
        .login-container { display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .login-box { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); max-width: 450px; width: 100%; text-align: center; }
        .login-title { font-size: 32px; color: #1e3a8a; margin-bottom: 10px; }
        .login-options { display: flex; gap: 15px; margin-bottom: 30px; }
        .login-option { flex: 1; padding: 15px; border: 2px solid #dbeafe; border-radius: 10px; cursor: pointer; background: white; }
        .login-option.active { border-color: #3b82f6; background: #dbeafe; }
        .login-btn { width: 100%; padding: 15px; background: linear-gradient(135deg, #1e3a8a, #3b82f6); color: white; border: none; border-radius: 8px; margin-top: 10px; cursor: pointer; font-size: 16px; }
        .form-group { margin-bottom: 20px; text-align: right; }
        .form-input { width: 100%; padding: 12px; border: 2px solid #dbeafe; border-radius: 8px; font-size: 16px; }
        .main-content { display: none; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .section { background: white; padding: 30px; margin-bottom: 20px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .announcement-card { background: white; padding: 20px; margin-bottom: 15px; border-radius: 10px; border-right: 3px solid #3b82f6; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
        .sync-status { position: fixed; top: 10px; left: 10px; background: #16a34a; color: white; padding: 8px 15px; border-radius: 20px; display: none; z-index: 1000; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; }
        .modal-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 12px; width: 90%; max-width: 500px; }
    </style>
</head>
<body>
    <div class="sync-status" id="syncStatus">
        <i class="fas fa-sync fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø­Ø§Ø¨ÙŠØ§Ù‹...
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
    <div class="login-container" id="loginContainer">
        <div class="login-box">
            <h1 class="login-title">Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù† Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ</h1>
            <p style="color: #666; margin-bottom: 30px;">Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„ÙˆØ§Ø¦Ù„ÙŠ Ù„Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ†</p>
            
            <div class="login-options">
                <div class="login-option active" onclick="selectLoginType('student')">
                    <i class="fas fa-user-graduate" style="font-size: 24px; margin-bottom: 10px;"></i><br>
                    <div>Ø·Ø§Ù„Ø¨</div>
                </div>
                <div class="login-option" onclick="selectLoginType('parliament')">
                    <i class="fas fa-users" style="font-size: 24px; margin-bottom: 10px;"></i><br>
                    <div>Ø¨Ø±Ù„Ù…Ø§Ù†ÙŠ</div>
                </div>
                <div class="login-option" onclick="selectLoginType('admin')">
                    <i class="fas fa-user-shield" style="font-size: 24px; margin-bottom: 10px;"></i><br>
                    <div>Ù…Ø³Ø¤ÙˆÙ„</div>
                </div>
            </div>

            <div id="studentLogin">
                <button class="login-btn" onclick="loginAsStudent()">
                    <i class="fas fa-sign-in-alt"></i> Ø¯Ø®ÙˆÙ„ ÙƒØ·Ø§Ù„Ø¨
                </button>
            </div>

            <div id="adminLogin" style="display: none;">
                <div class="form-group">
                    <label style="display: block; margin-bottom: 8px; font-weight: bold;">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" class="form-input" id="adminUsername" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                </div>
                <div class="form-group">
                    <label style="display: block; margin-bottom: 8px; font-weight: bold;">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" class="form-input" id="adminPassword" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                </div>
                <button class="login-btn" onclick="loginAsAdmin()">
                    <i class="fas fa-sign-in-alt"></i> Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø³Ø¤ÙˆÙ„
                </button>
            </div>

            <div id="parliamentLogin" style="display: none;">
                <div class="form-group">
                    <label style="display: block; margin-bottom: 8px; font-weight: bold;">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                    <input type="text" class="form-input" id="parliamentUsername" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
                </div>
                <div class="form-group">
                    <label style="display: block; margin-bottom: 8px; font-weight: bold;">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" class="form-input" id="parliamentPassword" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                </div>
                <button class="login-btn" onclick="loginAsParliament()">
                    <i class="fas fa-sign-in-alt"></i> Ø¯Ø®ÙˆÙ„ ÙƒØ¨Ø±Ù„Ù…Ø§Ù†ÙŠ
                </button>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-content" id="mainContent">
        <div class="container">
            <!-- Ù‚Ø³Ù… Ø§Ù„ØªØ¨Ù„ÙŠØºØ§Øª -->
            <div class="section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #dbeafe;">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <span id="userWelcome" style="font-weight: bold;">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ </span>
                        <span id="userRole" style="background: #3b82f6; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px;"></span>
                        <button onclick="logout()" style="background: #dc2626; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">
                            <i class="fas fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬
                        </button>
                    </div>

                    <div id="announcementAdminButtons" style="display: none;">
                        <button onclick="showAddAnnouncementModal()" style="background: #16a34a; color: white; border: none; padding: 10px 15px; border-radius: 6px; cursor: pointer;">
                            <i class="fas fa-plus"></i> Ù†Ø´Ø± ØªØ¨Ù„ÙŠØº
                        </button>
                    </div>
                </div>

                <h2 style="color: #1e3a8a; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-bullhorn" style="background: #dbeafe; width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center;"></i>
                    Ø§Ù„ØªØ¨Ù„ÙŠØºØ§Øª ÙˆØ§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
                </h2>
                
                <div id="announcementsContainer">
                    <!-- Ø§Ù„ØªØ¨Ù„ÙŠØºØ§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù†Ø§ØµØ¨ -->
            <div class="section">
                <h2 style="color: #1e3a8a; margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-users" style="background: #dbeafe; width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center;"></i>
                    Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù† ÙˆØ§Ù„Ù…Ù†Ø§ØµØ¨
                </h2>
                <div id="positionsContainer">
                    <!-- Ø§Ù„Ù…Ù†Ø§ØµØ¨ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ù†Ø´Ø± ØªØ¨Ù„ÙŠØº -->
    <div class="modal" id="addAnnouncementModal">
        <div class="modal-content">
            <h3 style="text-align: center; color: #1e3a8a; margin-bottom: 20px;">Ù†Ø´Ø± ØªØ¨Ù„ÙŠØº Ø¬Ø¯ÙŠØ¯</h3>
            <div class="form-group">
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ¨Ù„ÙŠØº</label>
                <input type="text" class="form-input" id="announcementTitle" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ¨Ù„ÙŠØº">
            </div>
            <div class="form-group">
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">ÙˆØµÙ Ø§Ù„ØªØ¨Ù„ÙŠØº</label>
                <textarea class="form-input" id="announcementDescription" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙ Ø§Ù„ØªØ¨Ù„ÙŠØº" rows="5" style="width: 100%; padding: 12px; border: 2px solid #dbeafe; border-radius: 8px; font-size: 16px; resize: vertical;"></textarea>
            </div>
            <div class="form-group">
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©</label>
                <select class="form-input" id="announcementAudience" style="width: 100%; padding: 12px; border: 2px solid #dbeafe; border-radius: 8px; font-size: 16px;">
                    <option value="students">Ø·Ù„Ø§Ø¨ ÙÙ‚Ø·</option>
                    <option value="parliament">Ø¨Ø±Ù„Ù…Ø§Ù†ÙŠÙŠÙ† ÙÙ‚Ø·</option>
                    <option value="general">Ø¹Ø§Ù… Ù„Ù„Ø¬Ù…ÙŠØ¹</option>
                </select>
            </div>
            <div style="display: flex; gap: 12px; justify-content: center; margin-top: 20px;">
                <button onclick="publishAnnouncement()" style="background: linear-gradient(135deg, #1e3a8a, #3b82f6); color: white; border: none; padding: 10px 25px; border-radius: 6px; cursor: pointer;">Ù†Ø´Ø± Ø§Ù„ØªØ¨Ù„ÙŠØº</button>
                <button onclick="closeModal('addAnnouncementModal')" style="background: #6b7280; color: white; border: none; padding: 10px 25px; border-radius: 6px; cursor: pointer;">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <script>
        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Netlify Functions
        const NETLIFY_URL = 'https://your-site.netlify.app'; // Ø³ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        
        let currentUser = null;
        let announcements = [];
        let parliamentUsers = [];
        let adminUsers = [{ username: "AliAlmhanna", password: "24012012Ali" }];

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§ØµØ¨
        const positions = [
            {
                name: "Ø±Ø¦ÙŠØ³ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù†",
                holder: "Ø¹Ù„ÙŠ Ø£Ù…ÙŠØ± Ù…Ù‡Ø¯ÙŠ",
                description: "ÙŠØ´Ø±Ù Ø¹Ù„Ù‰ Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù† ÙˆÙŠØªÙˆÙ„Ù‰ ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø£Ù…Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.",
                icon: "crown"
            },
            {
                name: "Ù†Ø§Ø¦Ø¨ Ø±Ø¦ÙŠØ³ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù†", 
                holder: "Ù…Ø­Ù…Ø¯ Ø³Ø§Ù…Ø± Ù…ÙˆØ³Ù‰",
                description: "ÙŠØ³Ø§Ù†Ø¯ Ø±Ø¦ÙŠØ³ Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù† ÙÙŠ Ù…Ù‡Ø§Ù…Ù‡ ÙˆÙŠØªÙˆÙ„Ù‰ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ†ÙÙŠØ° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª.",
                icon: "user-tie"
            }
        ];

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ø§Ù„Ø¨Ø³ÙŠØ·
        class CloudStorage {
            async saveData(data) {
                this.showSyncStatus();
                
                try {
                    // Ø­ÙØ¸ ÙÙŠ localStorage Ø£ÙˆÙ„Ø§Ù‹
                    localStorage.setItem('parliament_data', JSON.stringify(data));
                    
                    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ (Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ±Ù‡ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Netlify Functions)
                    console.log('Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø­Ø§Ø¨ÙŠØ§Ù‹...', data);
                    
                    // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ø§Ù„Ù†Ø§Ø¬Ø­
                    setTimeout(() => {
                        this.hideSyncStatus();
                    }, 1500);
                    
                    return true;
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸:', error);
                    this.hideSyncStatus();
                    return false;
                }
            }

            async loadData() {
                try {
                    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹
                    console.log('Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨Ø©...');
                    
                    // ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠØŒ Ù†Ø³ØªØ®Ø¯Ù… localStorage
                    const data = localStorage.getItem('parliament_data');
                    if (data) {
                        return JSON.parse(data);
                    }
                    
                    return { announcements: [], users: [] };
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                    return { announcements: [], users: [] };
                }
            }

            showSyncStatus() {
                const statusElement = document.getElementById('syncStatus');
                statusElement.style.display = 'block';
                statusElement.innerHTML = '<i class="fas fa-sync fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø­Ø§Ø¨ÙŠØ§Ù‹...';
            }

            hideSyncStatus() {
                const statusElement = document.getElementById('syncStatus');
                statusElement.innerHTML = '<i class="fas fa-check"></i> ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­';
                setTimeout(() => {
                    statusElement.style.display = 'none';
                }, 2000);
            }
        }

        const cloudStorage = new CloudStorage();

        // Ø¯ÙˆØ§Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…
        function selectLoginType(type) {
            document.querySelectorAll('.login-option').forEach(option => {
                option.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            document.getElementById('studentLogin').style.display = type === 'student' ? 'block' : 'none';
            document.getElementById('adminLogin').style.display = type === 'admin' ? 'block' : 'none';
            document.getElementById('parliamentLogin').style.display = type === 'parliament' ? 'block' : 'none';
        }

        function loginAsStudent() {
            currentUser = { username: 'Ø·Ø§Ù„Ø¨', role: 'student' };
            showMainContent();
        }

        function loginAsAdmin() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            const admin = adminUsers.find(user => user.username === username && user.password === password);
            if (admin) {
                currentUser = { username: username, role: 'admin' };
                showMainContent();
            } else {
                alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        }

        function loginAsParliament() {
            const username = document.getElementById('parliamentUsername').value;
            const password = document.getElementById('parliamentPassword').value;
            
            const user = parliamentUsers.find(user => user.username === username && user.password === password);
            if (user) {
                currentUser = { username: username, role: 'parliament' };
                showMainContent();
            } else {
                alert('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©');
            }
        }

        function showMainContent() {
            document.getElementById('loginContainer').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            
            document.getElementById('userWelcome').textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${currentUser.username}`;
            document.getElementById('userRole').textContent = currentUser.role === 'admin' ? 'Ù…Ø³Ø¤ÙˆÙ„' : 
                                                            currentUser.role === 'parliament' ? 'Ø¨Ø±Ù„Ù…Ø§Ù†ÙŠ' : 'Ø·Ø§Ù„Ø¨';
            
            if (currentUser.role === 'admin' || currentUser.role === 'parliament') {
                document.getElementById('announcementAdminButtons').style.display = 'block';
            }
            
            loadData();
        }

        async function loadData() {
            const data = await cloudStorage.loadData();
            announcements = data.announcements || [];
            parliamentUsers = data.users || [];
            displayAnnouncements();
            displayPositions();
        }

        function displayAnnouncements() {
            const container = document.getElementById('announcementsContainer');
            container.innerHTML = '';

            if (announcements.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #666;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ¨Ù„ÙŠØºØ§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
                return;
            }

            announcements.forEach((announcement, index) => {
                const announcementHTML = `
                    <div class="announcement-card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div style="font-weight: bold; font-size: 18px; color: #1e3a8a;">${announcement.title}</div>
                            <div style="background: #dbeafe; color: #3b82f6; padding: 3px 10px; border-radius: 15px; font-size: 12px; font-weight: bold;">
                                ${new Date(announcement.timestamp).toLocaleDateString('ar-EG')}
                            </div>
                        </div>
                        <div style="line-height: 1.6; margin-bottom: 10px; color: #333;">${announcement.description}</div>
                        <div style="font-size: 12px; color: #666; border-top: 1px solid #dbeafe; padding-top: 8px;">
                            Ù†Ø´Ø± Ø¨ÙˆØ§Ø³Ø·Ø©: ${announcement.author} | Ù„Ù„: ${getAudienceText(announcement.audience)}
                        </div>
                    </div>
                `;
                container.innerHTML += announcementHTML;
            });
        }

        function displayPositions() {
            const container = document.getElementById('positionsContainer');
            container.innerHTML = '';

            positions.forEach(position => {
                const positionHTML = `
                    <div style="background: white; padding: 20px; border-radius: 10px; border: 2px solid #dbeafe; text-align: center; margin-bottom: 15px;">
                        <div style="display: flex; flex-direction: column; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #1e3a8a, #3b82f6); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                                <i class="fas fa-${position.icon}"></i>
                            </div>
                            <div style="font-weight: bold; font-size: 18px; color: #1e3a8a;">${position.name}</div>
                        </div>
                        <div style="background: #dbeafe; color: #3b82f6; padding: 4px 12px; border-radius: 15px; font-weight: bold; display: inline-block; margin-bottom: 10px;">
                            ${position.holder}
                        </div>
                        <div style="line-height: 1.6; color: #333;">${position.description}</div>
                    </div>
                `;
                container.innerHTML += positionHTML;
            });
        }

        async function publishAnnouncement() {
            const title = document.getElementById('announcementTitle').value;
            const description = document.getElementById('announcementDescription').value;
            const audience = document.getElementById('announcementAudience').value;

            if (!title || !description) {
                alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                return;
            }

            const newAnnouncement = {
                title,
                description,
                audience,
                author: currentUser.username,
                timestamp: new Date().toISOString()
            };

            announcements.unshift(newAnnouncement);
            
            await cloudStorage.saveData({
                announcements: announcements,
                users: parliamentUsers
            });
            
            displayAnnouncements();
            closeModal('addAnnouncementModal');
            
            document.getElementById('announcementTitle').value = '';
            document.getElementById('announcementDescription').value = '';
        }

        function showAddAnnouncementModal() {
            document.getElementById('addAnnouncementModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function logout() {
            currentUser = null;
            document.getElementById('mainContent').style.display = 'none';
            document.getElementById('loginContainer').style.display = 'flex';
            
            document.getElementById('adminUsername').value = '';
            document.getElementById('adminPassword').value = '';
            document.getElementById('parliamentUsername').value = '';
            document.getElementById('parliamentPassword').value = '';
        }

        function getAudienceText(audience) {
            const audiences = {
                'students': 'Ø·Ù„Ø§Ø¨ ÙÙ‚Ø·',
                'parliament': 'Ø¨Ø±Ù„Ù…Ø§Ù†ÙŠÙŠÙ† ÙÙ‚Ø·', 
                'general': 'Ø¹Ø§Ù… Ù„Ù„Ø¬Ù…ÙŠØ¹'
            };
            return audiences[audience] || audience;
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
        window.onload = function() {
            console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø±Ù„Ù…Ø§Ù† Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ´ØºÙŠÙ„');
        };
    </script>
</body>
</html>
